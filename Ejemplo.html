``<html>
    <head>
      <script type="text/javascript"  src="https://robemorin.github.io/tlacuache/src/lib/tlacuache-elements.js"></script>
    <script type="text/javascript"  src="https://robemorin.github.io/tlacuache/src/mod/tlacuache-modulo.js"></script>
      <style>
        h1{
          font-family: 'Times New Roman', Times, serif;
          font-size: 30pt;
          text-align: center;
        }
        body{
          background-color: #f0f0f0;
          font-family: 'Times New Roman', Times, serif;
          font-size: 1em;
          text-align: left;
        }
        p, table td, input,li{
          font-family: 'Times New Roman', Times, serif;
          font-size: 20pt;
          text-align: left;
        }
        #tablaDatos{
          margin: 0 auto;
          border-collapse: collapse;
          width: 80%; /* Opcional: define un ancho para la tabla */
        }
        #tablaDatos td{
          text-align: center;
        }
        input{
          width: 100px; /* Ajusta el ancho del input según tus necesidades */
          text-align: center; /* Centra el texto dentro del input */
        }
      </style>
      <script>
        function revision1(){
          function arrayEqual(a,b){
           
            for(let i = 0; i < a.length; i++){
              if(a[i] != b[i]) return false;
            }
            return true;
          }
          let svg = document.getElementsByTagName("svg")[0];
          let datos = eval(`[${svg.getAttributeNS(null, "datos")}]`)
          datos.sort((a,b) => a-b)
          let txt = svg.getElementsByTagName("text")
          let n = txt.length
          let datos2 = new Array(n)
          for (let i = 0; i < n; i++){
            let tx = txt[i].transform.baseVal.getItem(0).matrix.e
            let ty = txt[i].transform.baseVal.getItem(0).matrix.f;
            let pos = Math.round((tx-1.5)/3+10*((ty-2.5)/3))
            
            datos2[pos] = eval(txt[i].textContent)  
            console.log(`pos: ${pos}[${datos[pos]}] tx: ${tx} ty: ${ty}`);
          }
          //console.log(`datos: ${datos} datos2: ${datos2}`);
          
          if(!arrayEqual(datos, datos2)){
            console.log(`incorrecto`);
            document.getElementById("com1").innerHTML = "Incorrecto, intenta de nuevo";
            document.getElementById("com1").style.color = "red";
          }else{
            console.log(`correcto`);
            document.getElementById("com1").innerHTML = "";
            document.getElementById("r1").style.color = "green";
            document.getElementById("r1").style.background = "LawnGreen";
            document.getElementById("r1").style.color = "green";
            document.getElementById("r1").style.border = "green";
            document.getElementById("r1").innerHTML = "<h1>&check; Correcto</h1>";
            
            let frec=[0,0,0,0,0]
            for(let i = 0; i < n; i++){
              frec[datos2[i]-1] += 1
            }
            document.getElementById("tablaDatos").setAttributeNS(null, "frecuencias", frec);
            document.getElementById("c2").innerHTML = "";
            
          }
        }
        function revision2(){
          let frec = document.getElementById("tablaDatos").getAttributeNS(null, "frecuencias")
          console.log(frec);
          if (frec === "plop"){
            document.getElementById("com2").innerHTML = "Primero debes resolver la parte anterior";
            document.getElementById("com2").style.color = "red";
            return;
          }
          frec = eval(`[${frec}]`)
          

          let finput = document.getElementsByClassName("frecuencia")
          let n = finput.length
          let f_usuario = []
          for(let i = 0; i < n; i++){
            f_usuario[i] = eval(finput[i].value)
            if(f_usuario[i] != frec[i]){
              document.getElementById("com2").innerHTML = "Incorrecto, intenta de nuevo";
              document.getElementById("com2").style.color = "red";
              return;
            }
          }
          document.getElementById("com2").innerHTML = "";
          document.getElementById("r2").style.color = "green";
          document.getElementById("r2").style.background = "LawnGreen";
          document.getElementById("r2").style.color = "green";
          document.getElementById("r2").style.border = "green";
          document.getElementById("r2").innerHTML = "<h1>&check; Correcto</h1>";
          
          let svg = document.getElementsByTagName("svg")[1];
          svg.setAttributeNS(null, "frecuencias", frec);
        }
        function revision3(){
            let frec = document.getElementsByTagName("svg")[1].getAttributeNS(null, "frecuencias");
            console.log(`de parte : ${frec}`);
            if (frec === null){
              document.getElementById("com3").innerHTML = "Primero debes resolver la parte anterior";
              document.getElementById("com3").style.color = "red";
              return;
            }
            frec = eval(`[${frec}]`)

            for(let i = 0; i < frec.length; i++){
              
              let frec_i = Math.round(document.getElementById("cuadf"+(i+1)).getAttributeNS(null,'height')*-6/(17.5-502))
              console.log(`${i+1}: ${frec_i}:${frec[i]}`);
              if(frec_i != frec[i]){
                document.getElementById("com3").innerHTML = "Incorrecto, intenta de nuevo";
                document.getElementById("com3").style.color = "red";
                return;
              }
              

            }
            document.getElementById("com3").innerHTML = "";
              document.getElementById("r3").style.color = "green";
              document.getElementById("r3").style.background = "LawnGreen";
              document.getElementById("r3").style.color = "green";
              document.getElementById("r3").style.border = "green";
              document.getElementById("r3").innerHTML = "<h1>&check; Correcto</h1>";

        }
      </script>
    </head>
    <body>
        <h1>Ejemplo de actividad dinámica</h1>

        <div>
          <button onclick="toggleHeader()"><p>Datos de la actividad</p>(Hacer click)</button>
          <div id="headerContent" style="display: none; border: 1px solid black; padding: 10px; margin: 10px; background-color: #f9f9f9;">
            <h2>Asignatura: Pensamiento Matemático 1</h2>
            <p><strong>Progresion:</strong> 7</p>
            <p><strong>Tema:</strong> Construcción de un Histograma a partir de Datos Crudos</p>
            <p><strong>Metas:</strong></p>
            <p>
            <ul>
              <li>M1: Ejecuta cálculos y algoritmos para
                resolver problemas matemáticos, de
                las ciencias y de su entorno</li>
              <li>M2: Analiza los resultados obtenidos al
                aplicar procedimientos algorítmicos
                propios del Pensamiento Matemático
                en la resolución de problemáticas
                teóricas y de su contexto</li>
                <li>M3: Desarrolla la percepción y la
                  intuición para generar conjeturas
                  ante situaciones que requieren
                  explicación o interpretación.</li>
            </ul></p>
            <
            <h3>Objetivo de Aprendizaje:</h3>
            <p>Al finalizar esta actividad, el alumno será capaz de:</p>
            <ul>
              <li>Ordenar un conjunto de datos.</li>
              <li>Elaborar una tabla de frecuencias a partir de los datos ordenados.</li>
              <li>Construir un histograma que represente la distribución de los datos.</li>
            </ul>
          </div>
        </div>
        <script>
          function toggleHeader() {
            const header = document.getElementById("headerContent");
            header.style.display = header.style.display === "none" ? "block" : "none";
          }
        </script>


        <p>a) Ordena los siguientes datos de menor a mayor (de izquierda a derecha, de arriba hacia abajo, arrástra los números)</p>
        <center>
          <svg xmlns="http://www.w3.org/2000/svg"  width="90%" viewBox="0 0 30 9" onload="main(evt)">
            <style>
              text {
                font-family: 'Times New Roman', Times, serif;
              }
              .dato{
                font-size: .05em;
                dominant-baseline: middle;
                text-anchor: middle;
              }
              .static {
                cursor: not-allowed;
              }
              .draggable {
                cursor: move;
                opacity: 0;
              }              
            </style>
            <script type="text/javascript">
              function main(evt) {
                var svg = evt.target;
                
                svg.setAttributeNS(null, "datos", loadDatos());
                console.log(svg.getAttributeNS(null, "datos"));
        
                svg.addEventListener('mousedown', startDrag);
                svg.addEventListener('mousemove', drag);
                svg.addEventListener('mouseup', endDrag);
                svg.addEventListener('mouseleave', endDrag);
                svg.addEventListener('touchstart', startDrag);
                svg.addEventListener('touchmove', drag);
                svg.addEventListener('touchend', endDrag);
                svg.addEventListener('touchleave', endDrag);
                svg.addEventListener('touchcancel', endDrag);
        
                var selectedElement, offset, transform,selectedId,
                    bbox, minX, maxX, minY, maxY, confined, lastTxy;

                function loadDatos(){
                  let drags = svg.getElementsByClassName("draggable")
                  let n = Math.round(Math.random() * 10+10);
                  let datos = new Array(n);
                  txt = svg.getElementsByClassName("dato")
                  for (let i = 0; i < 20; i++){
                    if(i < n){
                      datos[i] = Math.floor(Math.random() * 4.99+1);
                      txt[i].textContent = datos[i];
                      txt[i].setAttributeNS(null, "id", `txt${i}`);
                    }else{
                      txt[n].remove();
                      drags[n].remove();

                    }
                  }
                  return datos;
                  
                }
                function getMousePosition(evt) {
                  var CTM = svg.getScreenCTM();
                  if (evt.touches) { evt = evt.touches[0]; }
                  return {
                    x: (evt.clientX - CTM.e) / CTM.a,
                    y: (evt.clientY - CTM.f) / CTM.d
                  };
                }
        
                function startDrag(evt) {
                  if (evt.target.classList.contains('draggable')) {
                    selectedElement = evt.target;
                    selectedId = selectedElement.getAttribute("id").substr(1)-1
                    console.log(`Drag started ${selectedElement}: ${selectedId}`);
                    offset = getMousePosition(evt);
        
                    // Make sure the first transform on the element is a translate transform
                    var transforms = selectedElement.transform.baseVal;
                    
        
                    if (transforms.length === 0 || transforms.getItem(0).type !== SVGTransform.SVG_TRANSFORM_TRANSLATE) {
                      // Create an transform that translates by (0, 0)
                      var translate = svg.createSVGTransform();
                      translate.setTranslate(0, 0);
                      selectedElement.transform.baseVal.insertItemBefore(translate, 0);
                    }
        
                    // Get initial translation
                    transform = transforms.getItem(0);
                    offset.x -= transform.matrix.e;
                    offset.y -= transform.matrix.f;
                    lastTxy = [transform.matrix.e, transform.matrix.f];
        
                   
                  }
                }
       
                function drag(evt) {
                  console.log("dragging");
                  if (selectedElement) {

                    evt.preventDefault();
        
                    var coord = getMousePosition(evt);
                    var dx = coord.x - offset.x;
                    var dy = coord.y - offset.y;
                    transform.setTranslate(dx, dy);
                    console.log(`Drag ${selectedElement}: ${selectedId}`);
                    //document.getElementsByClassName("dato")[selectedId].transform.baseVal.getItem(0).setTranslate(.5,.5)
                    let alltxt = svg.getElementsByTagName("text");
                    console.log(alltxt);
                    console.log(selectedId);
                    let txt = alltxt[selectedId]
                    console.log(txt);
                    txt.transform.baseVal.getItem(0).setTranslate(dx+1.5,dy+1.5);
                    
                  }
                }
        
                function endDrag(evt) {
                  //let selectedId = selectedElement.getAttribute("id");
                  //console.log(`Drag ended ${selectedElement}: ${selectedId}`);
                  let tx=Math.round((transform.matrix.e)/3)*3,  ty = Math.round((transform.matrix.f-1)/3)*3+1
                  tx = tx < 0 ? 1 : (tx > 30 ? 28 : tx);
                  ty = ty < 0 ? 3 : (ty > 7 ? 6 : ty);

                  
                  transform.setTranslate(tx,ty);

                  selectedElement = false;

                  let alltxt = svg.getElementsByTagName("text");
                  const ntxt = alltxt.length;
                  //let alltxt = svg.getElementsByTagName("text");
                  
                  let txt = alltxt[selectedId]
                  txt.transform.baseVal.getItem(0).setTranslate(tx+1.5,ty+1.5);
                  
                  
                  for(let i = 0; i < ntxt ; i++){
                    let cuad = svg.getElementById("c"+(i+1))
                    let vx = cuad.transform.baseVal.getItem(0).matrix.e,
                        vy = cuad.transform.baseVal.getItem(0).matrix.f;
                    console.log(`cuad: ${cuad.id} ${vx},${vy}  --> ${lastTxy}`);
                    if( (vx==tx) && vy ==ty && selectedId != i){
                        cuad.transform.baseVal.getItem(0).setTranslate(lastTxy[0],lastTxy[1]);
                        alltxt[i].transform.baseVal.getItem(0).setTranslate(lastTxy[0]+1.5,lastTxy[1]+1.5);
                    }

                    /*
                    let txt = alltxt[i]
                    let txi =txt.transform.baseVal.getItem(0).matrix.e
                    let tyi = txt.transform.baseVal.getItem(0).matrix.f;

                    if(txt.getAttribute("id") != selectedId && tx == txi && ty == tyi){
                      txt.transform.baseVal.getItem(0).setTranslate(lastTxy[0],lastTxy[1]);
                    }
                    */
                  } 
                  
                  
                  selectedElement = false;

                  

                }
              }
             </script>
             <text class="dato" transform="translate(1.5 2.5)" >Asegurate que JavaScript esté activo</text>
            <text class="dato" transform="translate(4.5 2.5)" ></text>
            <text class="dato" transform="translate(7.5 2.5)" ></text>
            <text class="dato" transform="translate(10.5 2.5)" ></text>
            <text class="dato" transform="translate(13.5 2.5)" ></text>
            <text class="dato" transform="translate(16.5 2.5)" ></text>
            <text class="dato" transform="translate(19.5 2.5)" ></text>
            <text class="dato" transform="translate(22.5 2.5)" ></text>
            <text class="dato" transform="translate(25.5 2.5)" ></text>
            <text class="dato" transform="translate(28.5 2.5)" ></text>
            <text class="dato" transform="translate(1.5 5.5)" ></text>
            <text class="dato" transform="translate(4.5 5.5)" ></text>
            <text class="dato" transform="translate(7.5 5.5)" ></text>
            <text class="dato" transform="translate(10.5 5.5)" ></text>
            <text class="dato" transform="translate(13.5 5.5)" ></text>
            <text class="dato" transform="translate(16.5 5.5)" ></text>
            <text class="dato" transform="translate(19.5 5.5)" ></text>
            <text class="dato" transform="translate(22.5 5.5)" ></text>
            <text class="dato" transform="translate(25.5 5.5)" ></text>
            <text class="dato" transform="translate(28.5 5.5)" ></text>
             <rect x="0" y="0" class="draggable" id="c1" transform="translate(0 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c2" transform="translate(3 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c3" transform="translate(6 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c4" transform="translate(9 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c5" transform="translate(12 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c6" transform="translate(15 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c7" transform="translate(18 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c8" transform="translate(21 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c9" transform="translate(24 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c10" transform="translate(27 1)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c11" transform="translate(0 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c12" transform="translate(3 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c13" transform="translate(6 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c14" transform="translate(9 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c15" transform="translate(12 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c16" transform="translate(15 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c17" transform="translate(18 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c18" transform="translate(21 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c19" transform="translate(24 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             <rect x="0" y="0" class="draggable" id="c20" transform="translate(27 4)" height="3" width="3" style="fill:yellow;stroke-width:.1px;stroke:black" />
             
            
            <line x1="0" y1="1" x2="30" y2="1" stroke="grey" stroke-width=".05"></line>
            <line x1="0" y1="4" x2="30" y2="4" stroke="grey" stroke-width=".05"></line>
            <line x1="0" y1="7" x2="30" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="3" y1="1" x2="3" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="6" y1="1" x2="6" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="9" y1="1" x2="9" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1=".01" y1="1" x2=".01" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="12" y1="1" x2="12" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="15" y1="1" x2="15" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="18" y1="1" x2="18" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="21" y1="1" x2="21" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="24" y1="1" x2="24" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="27" y1="1" x2="27" y2="7" stroke="grey" stroke-width=".05"></line>
            <line x1="30" y1="1" x2="30" y2="7" stroke="grey" stroke-width=".05"></line>

          </svg>
        </center>
        <table>
        <tr><td><button id="r1" onclick="revision1()"><h1>Verificar</h1></button></td><td><p id="com1"></p></td>
      </table>

        <p>b) Completa la siguiente tabla a partir de la respuesta anterior</p>
        <center>
        <table id="tablaDatos" frecuencias="plop" width="50%" style="border-bottom: solid 1px gray; border-top: solid 1px gray;">
          <caption><h1>Tabla de frecuencias</h1></caption> 
          </caption>

            <thead style="border-bottom: solid 1px gray;"><tr><td style="border-bottom: solid 1px gray;"><h3>Datos</h3></td><td style="border-bottom: solid 1px gray;"><h3>Frecuencia</h3></td></tr></thead>
            <tr><td>1</td><td><input type="number" id="f1" value="0" class="frecuencia"></td></tr>
            <tr><td>2</td><td><input type="number" id="f2" value="0" class="frecuencia"></td></tr>
            <tr><td>3</td><td><input type="number" id="f3" value="0" class="frecuencia"></td></tr>
            <tr><td>4</td><td><input type="number" id="f4" value="0" class="frecuencia"></td></tr>
            <tr><td>5</td><td><input type="number" id="f5" value="0" class="frecuencia"></td></tr>
        </table>
        </center>
        <table>
          <tr><td><button id="r2" onclick="revision2()"><h1>Verificar</h1></button></td><td><p id="com2"></p></td>
        </table>  
        <p>c) Corrige el histograma a partir de la tabla anterior (estira las barras de la parte superior).</p>
        <center>
        <svg width="816" height="560" onload="main2(evt)" style="background-color: GhostWhite" xmlns="http://www.w3.org/2000/svg"> <!--rect x="0" y="0" height="504" width="80" style="fill:none;stroke-width:3;stroke:yellow" /-->
          <style>
            text {
              font-family: 'Times New Roman', Times, serif;
            }
            .linedrag{
              cursor: move;
              stroke-opacity:0;
              fill:none;
              stroke-width:20;
              stroke:blue
            }
            .barra{
              
              stroke-width:3;
              stroke:black;
              fill:blue"
            }
          </style>
          <script type="text/javascript">
            function main2(evt) {
              var svg = evt.target;
      
              svg.addEventListener('mousedown', startDrag);
              svg.addEventListener('mousemove', drag);
              svg.addEventListener('mouseup', endDrag);
              svg.addEventListener('mouseleave', endDrag);
              svg.addEventListener('touchstart', startDrag);
              svg.addEventListener('touchmove', drag);
              svg.addEventListener('touchend', endDrag);
              svg.addEventListener('touchleave', endDrag);
              svg.addEventListener('touchcancel', endDrag);
      
              var selectedElement, offset, transform,
                  bbox, minX, maxX, minY, maxY, confined, lastTxy;

              function getMousePosition(evt) {
                var CTM = svg.getScreenCTM();
                if (evt.touches) { evt = evt.touches[0]; }
                return {
                  x: (evt.clientX - CTM.e) / CTM.a,
                  y: (evt.clientY - CTM.f) / CTM.d
                };
              }
      
              function startDrag(evt) {
                if (evt.target.classList.contains('linedrag')) {
                  selectedElement = evt.target;
                  offset = getMousePosition(evt);
      
                  // Make sure the first transform on the element is a translate transform
                  var transforms = selectedElement.transform.baseVal;
                  
      
                  if (transforms.length === 0 || transforms.getItem(0).type !== SVGTransform.SVG_TRANSFORM_TRANSLATE) {
                    // Create an transform that translates by (0, 0)
                    var translate = svg.createSVGTransform();
                    translate.setTranslate(0, 0);
                    selectedElement.transform.baseVal.insertItemBefore(translate, 0);
                  }
      
                  // Get initial translation
                  transform = transforms.getItem(0);
                  offset.x -= transform.matrix.e;
                  offset.y -= transform.matrix.f;
                  lastTxy = [transform.matrix.e, transform.matrix.f];
      
                 
                }
              }
     
              function drag(evt) {
                console.log("dragging");
                if (selectedElement) {
                  let selectedId = selectedElement.getAttribute("id");

                  evt.preventDefault();
      
                  var coord = getMousePosition(evt);
                  var dx = coord.x - offset.x;
                  var dy = coord.y - offset.y;
                  transform.setTranslate(lastTxy[0], dy);
                  const numero = selectedId.charAt(6)
                console.log(`Element ID: ${selectedElement.id}: ${numero}`);
                
                console.log(`Drag ended and update bar`);
                let barraf = document.getElementById("cuadf"+numero)
                barraf.setAttributeNS(null, "y",dy)
                barraf.setAttributeNS(null, "height",502-dy)
                  
                  
                }
              }
      
              function endDrag(evt) {
                //y min 502 > 0 max 17.5 > 6
                let dy = (17.5-502)/6*Math.round((transform.matrix.f-502)*6/(17.5-502))+502;
                transform.setTranslate(lastTxy[0], dy);
                const numero = selectedElement.id.charAt(6)
                console.log(`Element ID: ${selectedElement.id}: ${numero}`);
                selectedElement = false;
                console.log(`Drag ended and update bar`);
                let barraf = document.getElementById("cuadf"+numero)
                barraf.setAttributeNS(null, "y",dy)
                barraf.setAttributeNS(null, "height",502-dy)



                

              }
            }
           </script>
          <!--rect y="504" x="80" height="56" width="720" style="fill:none;stroke-width:3;stroke:orange" /-->
          
          <!--rect y="17.5" x="80" height="484.5" width="718" style="fill:none;stroke-width:3;stroke:purple" /-->
          <line x1="80" x2="80" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><line x1="199.66666666666669" x2="199.66666666666669" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="199.66666666666669" y="510.4" text-anchor="middle" alignment-baseline="hanging" font-size="17.5">1</text>
  <line x1="199.66666666666669" x2="199.66666666666669" y1="510.4" y2="493.6" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="319.33333333333337" x2="319.33333333333337" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="319.33333333333337" y="510.4" text-anchor="middle" alignment-baseline="hanging" font-size="17.5">2</text>
  <line x1="319.33333333333337" x2="319.33333333333337" y1="510.4" y2="493.6" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="439" x2="439" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="439" y="510.4" text-anchor="middle" alignment-baseline="hanging" font-size="17.5">3</text>
  <line x1="439" x2="439" y1="510.4" y2="493.6" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="558.6666666666667" x2="558.6666666666667" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="558.6666666666667" y="510.4" text-anchor="middle" alignment-baseline="hanging" font-size="17.5">4</text>
  <line x1="558.6666666666667" x2="558.6666666666667" y1="510.4" y2="493.6" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="678.3333333333334" x2="678.3333333333334" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="678.3333333333334" y="510.4" text-anchor="middle" alignment-baseline="hanging" font-size="17.5">5</text>
  <line x1="678.3333333333334" x2="678.3333333333334" y1="510.4" y2="493.6" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="798" x2="798" y1="0" y2="504" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="798" y="510.4" text-anchor="middle" alignment-baseline="hanging" font-size="17.5">6</text>
  <line x1="798" x2="798" y1="510.4" y2="493.6" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="80" x2="800" y1="502" y2="502" style="fill:none;stroke-width:.5;stroke:dimgray"></line><line x1="80" x2="800" y1="421.25" y2="421.25" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="68" y="421.25" text-anchor="end" alignment-baseline="middle" font-size="17.5">1</text>
  <line x1="71.6" x2="88.4" y1="421.25" y2="421.25" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="80" x2="800" y1="340.5" y2="340.5" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="68" y="340.5" text-anchor="end" alignment-baseline="middle" font-size="17.5">2</text>
  <line x1="71.6" x2="88.4" y1="340.5" y2="340.5" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="80" x2="800" y1="259.75" y2="259.75" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="68" y="259.75" text-anchor="end" alignment-baseline="middle" font-size="17.5">3</text>
  <line x1="71.6" x2="88.4" y1="259.75" y2="259.75" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="80" x2="800" y1="179" y2="179" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="68" y="179" text-anchor="end" alignment-baseline="middle" font-size="17.5">4</text>
  <line x1="71.6" x2="88.4" y1="179" y2="179" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="80" x2="800" y1="98.25" y2="98.25" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="68" y="98.25" text-anchor="end" alignment-baseline="middle" font-size="17.5">5</text>
  <line x1="71.6" x2="88.4" y1="98.25" y2="98.25" style="fill:none;stroke-width:1.5;stroke:black"></line><line x1="80" x2="800" y1="17.5" y2="17.5" style="fill:none;stroke-width:.5;stroke:dimgray"></line><text x="68" y="17.5" text-anchor="end" alignment-baseline="middle" font-size="17.5">6</text>
  <line x1="71.6" x2="88.4" y1="17.5" y2="17.5" style="fill:none;stroke-width:1.5;stroke:black"></line>
          <polyline points="80,502 798,502" style="fill:none;stroke-width:1.5;stroke:black"></polyline>
          <polyline points="80,0 80,502" style="fill:none;stroke-width:1.5;stroke:black"></polyline>
          <text x="480" y="551.6" text-anchor="middle" font-size="28">datos</text>
          <!--y min 502 > 0 max 17.5 > 6
          // x min 80 > 0 max 798 > 6-->
            <rect id="cuadf1" fill="blue" stroke-width="3" stroke="black" x="139.8" y="421.25" height="80.75" width="119.66"></rect>
            <rect id="cuadf2" fill="blue" stroke-width="3" stroke="black" x="259.4666666666667" y="421.25" height="80.75" width="119.66"></rect>
            <rect id="cuadf3" fill="blue" stroke-width="3" stroke="black" x="379.1333333333333" y="421.25" height="80.75" width="119.66"></rect>
            <rect id="cuadf4" fill="blue" stroke-width="3" stroke="black" x="498.8" y="421.25" height="80.75" width="119.66"></rect>
            <rect id="cuadf5" fill="blue" stroke-width="3" stroke="black" x="618.4666666666667" y="421.25" height="80.75" width="119.66"></rect>
            <line class="linedrag" id="linead1" x1="0" y1="0" x2="119.66" y2="0" transform="translate(139.8 421.25)"></line>
            <line class="linedrag" id="linead2" x1="0" y1="0" x2="119.66" y2="0" transform="translate(259.4666666666667 421.25)"></line>
            <line class="linedrag" id="linead3" x1="0" y1="0" x2="119.66" y2="0" transform="translate(379.1333333333333 421.25)"></line>
            <line class="linedrag" id="linead4" x1="0" y1="0" x2="119.66" y2="0" transform="translate(498.8 421.25)"></line>
            <line class="linedrag" id="linead5" x1="0" y1="0" x2="119.66" y2="0" transform="translate(618.4666666666667 421.25)"></line>

            <g transform="matrix(0 -1 1 0 0 224)"><text x="0" y="0" text-anchor="middle" alignment-baseline="hanging" font-size="28">Frecuencia</text></g></svg>

        </center>

        <table>
          <tr><td><button id="r3" onclick="revision3()"><h1>Verificar</h1></button></td><td><p id="com3"></p></td>
        </table> 




        <center>
        
            <!--svg xmlns="http://www.w3.org/2000/svg" width="80%" viewBox="0 0 30 20" onload="makeDraggable(evt)">
        
                <style>
                  .static {
                    cursor: not-allowed;
                  }
                  .draggable {
                    cursor: move;
                  }
                </style>
                
                <script type="text/javascript">
                  function makeDraggable(evt) {
                    var svg = evt.target;
            
                    svg.addEventListener('mousedown', startDrag);
                    svg.addEventListener('mousemove', drag);
                    svg.addEventListener('mouseup', endDrag);
                    svg.addEventListener('mouseleave', endDrag);
                    svg.addEventListener('touchstart', startDrag);
                    svg.addEventListener('touchmove', drag);
                    svg.addEventListener('touchend', endDrag);
                    svg.addEventListener('touchleave', endDrag);
                    svg.addEventListener('touchcancel', endDrag);
            
                    var selectedElement, offset, transform,
                        bbox, minX, maxX, minY, maxY, confined;
            
                    var boundaryX1 = 10.5;
                    var boundaryX2 = 30;
                    var boundaryY1 = 2.2;
                    var boundaryY2 = 19.2;
            
                    function getMousePosition(evt) {
                      var CTM = svg.getScreenCTM();
                      if (evt.touches) { evt = evt.touches[0]; }
                      return {
                        x: (evt.clientX - CTM.e) / CTM.a,
                        y: (evt.clientY - CTM.f) / CTM.d
                      };
                    }
            
                    function startDrag(evt) {
                      if (evt.target.classList.contains('draggable')) {
                        selectedElement = evt.target;
                        offset = getMousePosition(evt);
            
                        // Make sure the first transform on the element is a translate transform
                        var transforms = selectedElement.transform.baseVal;
            
                        if (transforms.length === 0 || transforms.getItem(0).type !== SVGTransform.SVG_TRANSFORM_TRANSLATE) {
                          // Create an transform that translates by (0, 0)
                          var translate = svg.createSVGTransform();
                          translate.setTranslate(0, 0);
                          selectedElement.transform.baseVal.insertItemBefore(translate, 0);
                        }
            
                        // Get initial translation
                        transform = transforms.getItem(0);
                        offset.x -= transform.matrix.e;
                        offset.y -= transform.matrix.f;
            
                       
                      }
                    }
                    function ensamble(svg){
                        var center = document.getElementById("center");
                        var vertical = document.getElementById("vertical");
                        var horizontal = document.getElementById("horizontal");
                        var ellipse = document.getElementById("elipse");


                    }
            
                    function drag(evt) {
                      if (selectedElement) {
                        let selectedId = selectedElement.getAttribute("id");

                        evt.preventDefault();
            
                        var coord = getMousePosition(evt);
                        var dx = coord.x - offset.x;
                        var dy = coord.y - offset.y;

                        let c = [document.getElementById("center").transform.baseVal.getItem(0).matrix.e,document.getElementById("center").transform.baseVal.getItem(0).matrix.f];
                        let v = [document.getElementById("vertical").transform.baseVal.getItem(0).matrix.e,document.getElementById("vertical").transform.baseVal.getItem(0).matrix.f];
                        let h = [document.getElementById("horizontal").transform.baseVal.getItem(0).matrix.e,document.getElementById("horizontal").transform.baseVal.getItem(0).matrix.f];

                        

                        
                                 
                        if (selectedId == "center"){
                            let rx = h[0] - c[0];
                            let ry = v[1] - c[1];
                            transform.setTranslate(dx, dy);
                            document.getElementById("vertical").transform.baseVal.getItem(0).setTranslate(dx,ry+dy)
                            document.getElementById("horizontal").transform.baseVal.getItem(0).setTranslate(dx+rx,dy)
                            document.getElementById("elipse").transform.baseVal.getItem(0).setTranslate(dx,dy)
                            }else if(selectedId == "vertical"){
                            let ry = c[1] - v[1];
                            console.log(`c: ${c} v: ${v} h: ${h} ry:{ry}`);
                            transform.setTranslate(v[0], dy);
                            //document.getElementById("elipse").setAttributeNS(null,"rx",Math.abs(v[0]-c[0]));
                            document.getElementById("elipse").setAttributeNS(null,"ry",Math.abs(dy-c[1]));
                            }else if(selectedId == "horizontal"){
                            let rx = c[0] - h[0];
                            console.log(`c: ${c} v: ${v} h: ${h} rx:{rx}`);
                            transform.setTranslate(dx, h[1]);
                            //document.getElementById("elipse").setAttributeNS(null,"ry",Math.abs(h[1]-c[1]));  
                            document.getElementById("elipse").setAttributeNS(null,"rx",Math.abs(dx-c[0]));
                            }if (selectedId == "txt"){
                              transform.setTranslate(dx, dy);
                            }
                      }
                    }
            
                    function endDrag(evt) {
                      selectedElement = false;
                      console.log("Drag ended");
                    }
                  }
                 </script>
                 
                <ellipse id="elipse" fill="none" stroke="blue" stroke-width=".25" transform="translate(15 10)" cx="0" cy="0" rx="5" ry="5" ></ellipse>
                <circle class="draggable" id="center"     transform="translate(15 10)"  cx="0" cy="0" r=".5" fill="red"></circle>
                <text class="draggable" id="txt"   transform="translate(15 10)" >Hola</text>
                <circle class="draggable" id="vertical"   transform="translate(15 15)"  cx="0" cy="0" r=".5" fill="red"></circle>
                <circle class="draggable" id="horizontal" transform="translate(10 10)"  cx="0" cy="0" r=".5" fill="red"></circle>        
            </svg--></center>
            
        
<div id="temp"></div>
</body>
</html>